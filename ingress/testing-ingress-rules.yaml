---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: ingress-testing
  namespace: default
  annotations:
    kubernetes.io/ingress.class: nginx
    nginx.ingress.kubernetes.io/rewrite-target: /
spec:
  ingressClassName: nginx
  rules:
  - http:
      paths:
      - path: /light
        pathType: Prefix
        backend:
          service:
            name: light-nginx
            port: 
              number: 8080
      - path: /dark
        pathType: Prefix
        backend:
          service:
            name: dark-nginx
            port: 
              number: 8080
      # - path: /
      #   pathType: Prefix
      #   backend:
      #     service:
      #       name: light-nginx
      #       port: 
      #         number: 8080
    host: "localhost"
#---
# apiVersion: networking.k8s.io/v1
# kind: Ingress
# metadata:
#   annotations:
#     kubectl.kubernetes.io/last-applied-configuration: |
#       {"apiVersion":"networking.k8s.io/v1","kind":"Ingress","metadata":{"annotations":{"nginx.ingress.kubernetes.io/rewrite-target":"/$1"},"name":"example-ingress","namespace":"default"},"spec":{"rules":[{"host":"hello-world.info","http":{"paths":[{"backend":{"service":{"name":"web","port":{"number":8080}}},"path":"/","pathType":"Prefix"}]}}]}}
#     nginx.ingress.kubernetes.io/rewrite-target: /$1
#   creationTimestamp: "2023-03-04T08:51:49Z"
#   generation: 4
#   name: example-ingress
#   namespace: default
#   resourceVersion: "9409"
#   uid: c7facf46-82f6-4faf-9469-1f4812012e80
# spec:
#   ingressClassName: nginx
#   rules:
#   - host: localhost
#     http:
#       paths:
#       - backend:
#           service:
#             name: web
#             port:
#               number: 8080
#         path: /
#         pathType: Prefix
#       - backend:
#           service:
#             name: web2
#             port:
#               number: 8080
#         path: /v2
#         pathType: Prefix